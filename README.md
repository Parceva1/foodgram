#  Проект: Foodgram
Foodgram — это сайт для сохранения и поиска рецептов. На сайте можно поделиться своими рецептами или найти интересные рецепты других пользователей. В рецептах будут указаны продукты, используемые в рецепте, которые можно скачать в виде отдельного файла.

### Основные возможности:

- Создание, редактирование и удаление рецептов: авторизованные пользователи могут публиковать свои рецепты, указывать ингредиенты и время приготовления.

- Просмотр чужих рецептов: доступно всем пользователям.

- Добавление рецептов в избранное: возможность быстро находить любимые рецепты.

- Формирование списка покупок: ингредиенты выбранных рецептов можно скачать в виде файла.

- Подписка на авторов: возможность следить за новыми рецептами избранных пользователей.

### Ресурсы API Foodgram:
- Ресурс auth: аутентификация пользователей через JWT-токены.

- Ресурс users: управление пользователями и подписками.

- Ресурс tags: система тегов для категоризации рецептов.

- Ресурс ingredients: список ингредиентов для рецептов.

- Ресурс recipes: рецепты, содержащие описание, список ингредиентов и инструкцию по приготовлению.

- Ресурс favorites: избранные рецепты пользователя.

- Ресурс shopping_cart: список покупок, формируемый на основе ингредиентов рецептов.
  
### Пользовательские роли и права доступа:
- Анонимный пользователь — может просматривать рецепты и список ингредиентов.
- Аутентифицированный пользователь — может создавать, редактировать и удалять свои рецепты, добавлять их в избранное, формировать список покупок и подписываться на других пользователей.
- Администратор — имеет полный доступ к управлению пользователями, рецептами, тегами и ингредиентами.

## Используемые технологии

В проекте используются следующие технологии и библиотеки:

- Django — веб-фреймворк для бэкенда.
- Django REST Framework (DRF) — инструмент для создания RESTful API.
- PostgreSQL — база данных для хранения информации.
- Docker — контейнеризация приложения для удобного развертывания.
- Gunicorn — WSGI-сервер для запуска Django-приложения.
- Nginx — сервер для обработки статических файлов и проксирования запросов.
- pytest — инструмент для тестирования.

## Установка (Windows):

1. Клонирование репозитория

```
git clone git@github.com:Parceva1/foodgram.git
```

1. Переход в директорию api_yamdb

```
cd backend
```

3. Создание виртуального окружения

```
python -m venv venv
```

4. Активация виртуального окружения

```
source venv/Scripts/activate
```

5. Обновите pip

```
python -m pip install --upgrade pip
```

6. Установка зависимостей

```
pip install -r requirements.txt
```

7.  Создать суперпользователя

```
python manage.py createsuperuser
```

8. Переход в директорию infra

```
cd ..

cd infra
```
9. Сбор и запуск контейнеров(локально)
```
docker compose up -d --build
```

9. Применение миграций

```
docker compose exec backend python manage.py migrate

docker compose exec backend python manage.py makemigrations
```

11. Деплой проекта на сервер

```
cd ..

git add .

git commit -m ''

git push origin main
```
После пуша в ветку main автоматически запускается CI/CD, который выполняет деплой проекта: образы отправляются в Docker Hub, а затем разворачиваются на сервере, данные которого указаны в секретах GitHub.

## Пример запроса и ответа

### POST запрос
`/api/recipes/`

body:
```
{
  "ingredients": [
    {
      "id": 5,
      "amount": 15
    },
    {
      "id": 888,
      "amount": 12
    }
  ],
  "tags": [
    {{firstTagId}},
    {{secondTagId}}
  ],
  "image": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAgMAAABieywaAAAACVBMVEUAAAD///9fX1/S0ecCAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNoAAAAggCByxOyYQAAAABJRU5ErkJggg==",
  "name": "Нечто съедобное (это не точно)",
  "text": "Приготовьте как нибудь эти ингредиеты",
  "cooking_time": 777
}
```

Пример ответа:

```
{
    "id": 88,
    "tags": [
        {
            "id": 1,
            "name": "Завтрак",
            "slug": "breakfast"
        },
        {
            "id": 2,
            "name": "Обед",
            "slug": "dinner"
        }
    ],
    "ingredients": [
        {
            "id": 5,
            "name": "абрикосы",
            "measurement_unit": "г",
            "amount": 15
        },
        {
            "id": 888,
            "name": "лук салатный",
            "measurement_unit": "г",
            "amount": 12
        }
    ],
    "author": {
        "id": 3,
        "email": "second_user@email.org",
        "username": "second-user",
        "first_name": "Андрей",
        "last_name": "Макаревский",
        "avatar": null,
        "is_subscribed": false
    },
    "is_favorited": false,
    "is_in_shopping_cart": false,
    "name": "Нечто съедобное (это не точно)",
    "image": "http://127.0.0.1:8888/media/recipes/image/temp_shwXEL6.png",
    "text": "Приготовьте как нибудь эти ингредиеты",
    "cooking_time": 777
}
```

## Авторы
#### [_Станислав_](https://github.com/Parceva1),
